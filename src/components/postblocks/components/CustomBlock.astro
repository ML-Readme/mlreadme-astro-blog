---
import type { Props as $, Block as BlockType } from "astro-portabletext/types";
//import { Block } from "astro-portabletext/components";
//import Billboard from "path/to/Billboard.astro";
import Code from "./CodeBlock.astro";
import { usePortableText } from "astro-portabletext/utils";

export type Props = $<BlockType>;

const props = Astro.props;

const { getDefaultComponent } = usePortableText(props.node);

const styleIs = (style: string) => style === props.node.style;

const Cmp = styleIs("code") ? (
    Code
) : (
    Block  // Fallback to `astro-portabletext`
)
---

<Cmp {...props}><slot /></Cmp>