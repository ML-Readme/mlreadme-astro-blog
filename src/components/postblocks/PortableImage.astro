---
import { urlForImage } from "@sanitysrc/lib/sanityUrl.ts";

const { asset, alt, caption } = Astro.props.node;

const url = urlForImage(asset).url();
const webpUrl = urlForImage(asset).format("webp").url();
---
<figure>
  <picture>
    <source srcset={webpUrl} type="image/webp" />
    <img class="responsive__img" src={url} alt={alt} />
  </picture>
  <figcaption>{caption}</figcaption>
</figure>

